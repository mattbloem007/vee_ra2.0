{"version":3,"file":"component---src-pages-news-js-7093efea4301a2ade89f.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/news.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { graphql, Link } from 'gatsby';\nimport { GatsbyImage } from 'gatsby-plugin-image';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\n\nconst NewsPage = ({ data }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('date'); // date, title\n  const [selectedCategory, setSelectedCategory] = useState('all');\n\n  const allPosts = data.allContentfulBlogPost.edges.map(edge => edge.node);\n\n  // Extract unique categories from posts\n  const categories = useMemo(() => {\n    const cats = ['all', ...new Set(allPosts.map(post => post.category?.category).filter(Boolean))];\n    return cats;\n  }, [allPosts]);\n\n  // Filter and sort posts\n  const filteredPosts = useMemo(() => {\n    let filtered = allPosts;\n\n    // Filter by category\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter(post => post.category?.category === selectedCategory);\n    }\n\n    // Filter by search term\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(post => \n        post.title.toLowerCase().includes(term) ||\n        (post.body?.raw && JSON.parse(post.body.raw).content[0]?.content[0]?.value?.toLowerCase().includes(term))\n      );\n    }\n\n    // Sort posts\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'title':\n          return a.title.localeCompare(b.title);\n        case 'date':\n        default:\n          return new Date(b.createdAt) - new Date(a.createdAt);\n      }\n    });\n\n    return filtered;\n  }, [allPosts, selectedCategory, searchTerm, sortBy]);\n\n  const handleCategoryClick = (category) => {\n    setSelectedCategory(category);\n    setSearchTerm(''); // Clear search when changing category\n  };\n\n  const clearAllFilters = () => {\n    setSelectedCategory('all');\n    setSearchTerm('');\n    setSortBy('date');\n  };\n\n  return (\n    <Layout>\n      <SEO title=\"News & Insights - Vee/Ra Decadent Botanical Blends\" />\n      \n      <div className=\"news-page\">\n        <div className=\"container\">\n          {/* Header */}\n          <header className=\"news-header\">\n            <nav className=\"breadcrumb\">\n              <Link to=\"/\" className=\"breadcrumb__link\">Home</Link>\n              <span className=\"breadcrumb__separator\">/</span>\n              <span className=\"breadcrumb__current\">News</span>\n            </nav>\n            \n            <div className=\"news-header__content\">\n              <h1 className=\"news-header__title\">News & Insights</h1>\n              <p className=\"news-header__subtitle\">\n                Discover wisdom, rituals, and insights for your sacred journey\n              </p>\n            </div>\n          </header>\n\n          {/* Category Filters */}\n          <div className=\"news-categories\">\n            <div className=\"news-categories__header\">\n              <h3 className=\"news-categories__title\">Browse by Category</h3>\n              <button \n                onClick={clearAllFilters}\n                className=\"news-categories__clear\"\n                disabled={selectedCategory === 'all' && !searchTerm}\n              >\n                Clear All\n              </button>\n            </div>\n            \n            <div className=\"news-categories__grid\">\n              {categories.map(category => (\n                <button\n                  key={category}\n                  onClick={() => handleCategoryClick(category)}\n                  className={`news-category-btn ${selectedCategory === category ? 'active' : ''}`}\n                >\n                  {category === 'all' ? 'All Posts' : category}\n                  {selectedCategory === category && (\n                    <svg className=\"news-category-btn__check\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n                      <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\" fill=\"currentColor\"/>\n                    </svg>\n                  )}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Search and Sort Filters */}\n          <div className=\"news-filters\">\n            <div className=\"news-filters__search\">\n              <div className=\"search-input-wrapper\">\n                <svg className=\"search-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M19 19l-5.5-5.5M17 9.5a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search articles...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"news-search__input\"\n                />\n                {searchTerm && (\n                  <button \n                    onClick={() => setSearchTerm('')}\n                    className=\"search-clear-btn\"\n                    aria-label=\"Clear search\"\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n                      <path d=\"M12.854 3.146a.5.5 0 0 1 0 .708L9.207 7.5l3.647 3.646a.5.5 0 0 1-.708.708L8.5 8.207l-3.646 3.647a.5.5 0 0 1-.708-.708L7.793 7.5 4.146 3.854a.5.5 0 0 1 .708-.708L8.5 6.793l3.646-3.647a.5.5 0 0 1 .708 0z\" fill=\"currentColor\"/>\n                    </svg>\n                  </button>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"news-filters__controls\">\n              <div className=\"news-filters__sort\">\n                <label htmlFor=\"sort-filter\">Sort by:</label>\n                <select\n                  id=\"sort-filter\"\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"news-filter__select\"\n                >\n                  <option value=\"date\">Date (Newest)</option>\n                  <option value=\"title\">Title (A-Z)</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* Results Summary */}\n          <div className=\"news-results\">\n            <p className=\"news-results__count\">\n              Showing {filteredPosts.length} of {allPosts.length} articles\n              {selectedCategory !== 'all' && ` in \"${selectedCategory}\"`}\n              {searchTerm && ` matching \"${searchTerm}\"`}\n            </p>\n          </div>\n\n          {/* Blog Grid */}\n          <div className=\"news-grid\">\n            {filteredPosts.map(post => (\n              <article key={post.slug} className=\"news-card\">\n                <div className=\"news-card__image\">\n                  {post.image && (\n                    <Link to={`/news/${post.slug}`}>\n                      <GatsbyImage \n                        image={post.image.gatsbyImageData} \n                        alt={post.title}\n                        className=\"news-card__img\"\n                      />\n                    </Link>\n                  )}\n                  {post.category?.category && (\n                    <span className=\"news-card__category\">\n                      {post.category.category}\n                    </span>\n                  )}\n                </div>\n                \n                <div className=\"news-card__content\">\n                  <time className=\"news-card__date\">\n                    {new Date(post.createdAt).toLocaleDateString('en-US', {\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric'\n                    })}\n                  </time>\n                  \n                  <h2 className=\"news-card__title\">\n                    <Link to={`/news/${post.slug}`}>{post.title}</Link>\n                  </h2>\n                  \n                  <p className=\"news-card__excerpt\">\n                    {post.body?.raw ? \n                      JSON.parse(post.body.raw).content[0]?.content[0]?.value?.substring(0, 150) + '...' : \n                      'Read our latest insights on sacred rituals and botanical wisdom.'\n                    }\n                  </p>\n                  \n                  <div className=\"news-card__link\">\n                    <Link to={`/news/${post.slug}`}>\n                      <span>Read More</span>\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n                        <path d=\"M8 1L15 8L8 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      </svg>\n                    </Link>\n                  </div>\n                </div>\n              </article>\n            ))}\n          </div>\n\n          {/* No Results */}\n          {filteredPosts.length === 0 && (\n            <div className=\"news-empty\">\n              <div className=\"news-empty__icon\">\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n              </div>\n              <h3>No articles found</h3>\n              <p>Try adjusting your search terms or selecting a different category.</p>\n              <button \n                onClick={clearAllFilters}\n                className=\"news-empty__reset\"\n              >\n                Clear All Filters\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query NewsPageQuery {\n    allContentfulBlogPost(sort: {createdAt: DESC}) {\n      edges {\n        node {\n          title\n          slug\n          createdAt\n          category {\n            category\n          }\n          image {\n            gatsbyImageData(width: 400, height: 250)\n          }\n          body {\n            raw\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default NewsPage; "],"names":["_ref","data","searchTerm","setSearchTerm","useState","sortBy","setSortBy","selectedCategory","setSelectedCategory","allPosts","allContentfulBlogPost","edges","map","edge","node","categories","useMemo","concat","_toConsumableArray","Set","post","_post$category","category","filter","Boolean","filteredPosts","filtered","_post$category2","term","toLowerCase","_post$body","_JSON$parse$content$","_JSON$parse$content$$","_JSON$parse$content$$2","title","includes","body","raw","JSON","parse","content","value","sort","a","b","localeCompare","Date","createdAt","clearAllFilters","React","Layout","SEO","className","Link","to","onClick","disabled","key","handleCategoryClick","width","height","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","type","placeholder","onChange","e","target","htmlFor","id","length","_post$category3","_post$body2","_JSON$parse$content$2","_JSON$parse$content$3","_JSON$parse$content$4","slug","image","GatsbyImage","gatsbyImageData","alt","toLocaleDateString","year","month","day","substring"],"sourceRoot":""}