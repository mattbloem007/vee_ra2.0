"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[680],{7777:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(7294),o=a(1883),r=a(7543),i=a(8032),s=a(6437);var c=e=>{let{sections:t,productId:a}=e;const{0:o,1:r}=(0,n.useState)(new Set),i=e=>o.has(e);return n.createElement("div",{className:"product-accordion"},Object.entries(t).map((e=>{let[t,s]=e;return n.createElement("div",{key:t,className:"product-accordion__item"},n.createElement("button",{className:"product-accordion__header "+(i(t)?"product-accordion__header--open":""),onClick:()=>(e=>{const t=new Set(o);t.has(e)?t.delete(e):t.add(e),r(t)})(t),"aria-expanded":i(t),"aria-controls":"product-accordion-content-"+a+"-"+t},n.createElement("span",{className:"product-accordion__title"},s.title),n.createElement("span",{className:"product-accordion__icon"},i(t)?"−":"+")),n.createElement("div",{id:"product-accordion-content-"+a+"-"+t,className:"product-accordion__content "+(i(t)?"product-accordion__content--open":""),"aria-hidden":!i(t)},n.createElement("div",{className:"product-accordion__body"},s.content.split("\n").map(((e,t)=>n.createElement("p",{key:t},e))))))})))},l=JSON.parse('{"id":"mood-magick","title":"Mood Magick","sections":{"ingredients":{"title":"Ingredients","content":"Cacao Paste*, Cacao Powder*, Lion’s Mane*, Reishi*, Ashwagandha*, Ceylon Cinnamon*, Oryx Desert Salt*\\n*ORGANIC"},"brew-guide":{"title":"Brew Guide","content":"Add 1½ - 2 Tbsp (15g) to 200-250ml of warm milk of choice or water. Do not boil. \\n Allow time to melt and merge. \\n To froth, mix in a blender, plunge up and down vigorously in a French press, or shake in a jar. \\n Add sweetener if desired."},"shipping":{"title":"Shipping","content":"Orders are typically processed within 1-2 business days. Domestic shipping takes 2-5 business days, while international shipping varies by location. All packages are carefully packaged to ensure your Mood Magick arrives in perfect condition."}}}'),d=JSON.parse('{"id":"moon-mylk","title":"Moon Mylk","sections":{"ingredients":{"title":"Ingredients","content":"Cacao Butter, Turmeric Extract*, Ceylon Cinnamon*, GABA, L-Theanine, Tri-Magnesium, Mucuna Extract*, Long Pepper Extract*\\n\\n*ORGANIC"},"brew-guide":{"title":"Brew Guide","content":"Add 1 heaped Tbsp (12.5g) to 200-250ml of warm milk of choice. Do not boil. Allow time to melt and merge. \\n To froth, mix in a blender, plunge up and down vigorously in a French press, or shake in a jar."},"shipping":{"title":"Shipping","content":"Orders are processed within 1-2 business days. Domestic shipping takes 3-5 business days, international shipping varies by location. All packages are carefully wrapped and sealed to maintain the product\'s integrity during transit."}}}'),u=JSON.parse('{"id":"ritual-roots","title":"Ritual Roots","sections":{"ingredients":{"title":"Ingredients","content":"Dandelion Root*, Chicory, Chaga*, Dates, Ceylon Cinnamon*, Maca*, Reishi*, Cordyceps*, Brahmi*, Shatavari* *ORGANIC"},"brew-guide":{"title":"Brew Guide","content":"Add 1 heaped Tbsp (10g) to 250ml of freshly boiled water in a French press and brew for 5-10 minutes. Add milk of choice — straight or frothed — and sweeten if desired. Delicious served hot or cold. One serving can be brewed up to 3 times. Give the used grinds to your plants - they love it!"},"shipping":{"title":"Shipping","content":"Orders are processed within 1-2 business days. Domestic shipping takes 3-5 business days, international shipping varies by location. All packages are carefully sealed and protected to maintain the product\'s quality during transit."}}}');const m={"mood-magick":l,"moon-mylk":d,rr:u,"ritual-roots":u,"ritual-roots-blend":u,"ritual-roots-product":u},p=e=>m[e]||null;var y=e=>{const t=e.data,{0:a,1:l}=(0,n.useState)(null),{0:d,1:u}=(0,n.useState)(1),{0:m,1:y}=(0,n.useState)(!1),{0:g,1:h}=(0,n.useState)(!1),{0:_,1:b}=(0,n.useState)(0),{addToCart:v}=(0,s.oR)(),f=t.shopifyProduct.handle||t.shopifyProduct.title.toLowerCase().replace(/\s+/g,"-");let E=p(f);if(!E){const e=t.shopifyProduct.title.toLowerCase();e.includes("ritual")||e.includes("roots")?E=p("rr"):e.includes("mood")||e.includes("magick")?E=p("mood-magick"):(e.includes("moon")||e.includes("mylk"))&&(E=p("moon-mylk"))}console.log("Product handle:",t.shopifyProduct.handle),console.log("Product title:",t.shopifyProduct.title),console.log("Generated product ID:",f),console.log("Found product data:",E);const N=n.useMemo((()=>{const e=[];return t.shopifyProduct.featuredImage&&e.push({id:"featured",image:t.shopifyProduct.featuredImage.gatsbyImageData,alt:t.shopifyProduct.title}),t.shopifyProduct.media&&t.shopifyProduct.media.length>0&&t.shopifyProduct.media.forEach(((a,n)=>{a.preview&&a.preview.image&&e.push({id:"media-"+n,image:a.preview.image.gatsbyImageData,alt:t.shopifyProduct.title+" - Image "+(n+1)})})),e}),[t.shopifyProduct]);(0,n.useEffect)((()=>{1===t.shopifyProduct.variants.length&&l(t.shopifyProduct.variants[0])}),[t]);const k=e=>"R"+parseFloat(e).toFixed(2);return n.createElement(r.Z,null,n.createElement("div",{className:"product-page"},n.createElement("div",{className:"container"},n.createElement("nav",{className:"breadcrumb"},n.createElement(o.Link,{to:"/",className:"breadcrumb__link"},"Home"),n.createElement("span",{className:"breadcrumb__separator"},"/"),n.createElement(o.Link,{to:"/store",className:"breadcrumb__link"},"Shop"),n.createElement("span",{className:"breadcrumb__separator"},"/"),n.createElement("span",{className:"breadcrumb__current"},t.shopifyProduct.title)),n.createElement("div",{className:"product-grid"},n.createElement("div",{className:"product-images"},N.length>0&&n.createElement("div",{className:"product-gallery"},n.createElement("div",{className:"product-gallery__main"},n.createElement(i.G,{image:N[_].image,alt:N[_].alt,className:"product-gallery__image"}),N.length>1&&n.createElement(n.Fragment,null,n.createElement("button",{className:"product-gallery__nav product-gallery__nav--prev",onClick:()=>{b((e=>0===e?N.length-1:e-1))},"aria-label":"Previous image"},"‹"),n.createElement("button",{className:"product-gallery__nav product-gallery__nav--next",onClick:()=>{b((e=>e===N.length-1?0:e+1))},"aria-label":"Next image"},"›")),N.length>1&&n.createElement("div",{className:"product-gallery__counter"},_+1," / ",N.length)),N.length>1&&n.createElement("div",{className:"product-gallery__thumbnails"},N.map(((e,t)=>n.createElement("button",{key:e.id,className:"product-gallery__thumbnail "+(t===_?"product-gallery__thumbnail--active":""),onClick:()=>(e=>{b(e)})(t),"aria-label":"Go to image "+(t+1)},n.createElement(i.G,{image:e.image,alt:e.alt,className:"product-gallery__thumbnail-image"}))))))),n.createElement("div",{className:"product-details"},n.createElement("h1",{className:"product-title"},t.shopifyProduct.title),a&&n.createElement("div",{className:"product-price"},k(a.price*d)),t.shopifyProduct.variants.length>1&&n.createElement("div",{className:"product-variants"},n.createElement("label",{className:"product-variants__label"},"Size"),n.createElement("div",{className:"product-variants__options"},t.shopifyProduct.variants.map((e=>n.createElement("button",{key:e.storefrontId,className:"product-variants__option "+((null==a?void 0:a.storefrontId)===e.storefrontId?"product-variants__option--selected":"")+" "+(e.inventoryQuantity<=0?"product-variants__option--disabled":"")+" "+(e.inventoryQuantity<=3&&e.inventoryQuantity>0?"product-variants__option--low-stock":""),onClick:()=>l(e),disabled:e.inventoryQuantity<=0,type:"button"},n.createElement("div",{className:"product-variants__option-content"},n.createElement("span",{className:"product-variants__option-title"},e.title),n.createElement("span",{className:"product-variants__option-price"},k(e.price))),e.inventoryQuantity<=0?n.createElement("span",{className:"product-variants__option-out-of-stock"},"Out of Stock"):e.inventoryQuantity<=3?n.createElement("span",{className:"product-variants__option-low-stock"},"Low Stock (",e.inventoryQuantity,")"):null))))),a&&a.inventoryQuantity<=0&&n.createElement("div",{className:"product-out-of-stock"},n.createElement("span",{className:"product-out-of-stock__icon"},"⚠️"),n.createElement("span",{className:"product-out-of-stock__text"},"This variant is out of stock")),n.createElement("div",{className:"product-quantity"},n.createElement("label",{className:"product-quantity__label"},"Quantity"),n.createElement("div",{className:"product-quantity__selector"},n.createElement("button",{type:"button",className:"product-quantity__btn product-quantity__btn--decrease",onClick:()=>u(Math.max(1,d-1)),disabled:d<=1||a&&a.inventoryQuantity<=0,"aria-label":"Decrease quantity"},"−"),n.createElement("input",{type:"number",min:"1",max:a?a.inventoryQuantity:1,value:d,onChange:e=>{const t=parseInt(e.target.value);t>0&&u(t)},className:"product-quantity__input",disabled:a&&a.inventoryQuantity<=0,"aria-label":"Quantity"}),n.createElement("button",{type:"button",className:"product-quantity__btn product-quantity__btn--increase",onClick:()=>u(d+1),disabled:a&&(d>=a.inventoryQuantity||a.inventoryQuantity<=0),"aria-label":"Increase quantity"},"+"))),n.createElement("button",{className:"btn btn--primary product-add-to-cart "+(m?"btn--loading":""),onClick:async()=>{if(a){y(!0);try{await v(a.storefrontId,d),h(!0),setTimeout((()=>h(!1)),3e3)}catch(e){console.error("Failed to add item to cart:",e)}finally{y(!1)}}},disabled:!a||m||a&&a.inventoryQuantity<=0},m?"Adding...":a&&a.inventoryQuantity<=0?"Out of Stock":"Add to Cart"),g&&n.createElement("div",{className:"product-added-message"},"✓ Added to cart"),t.shopifyProduct.descriptionHtml&&n.createElement("div",{className:"product-description"},n.createElement("h3",null,"About this blend"),n.createElement("div",{dangerouslySetInnerHTML:{__html:t.shopifyProduct.descriptionHtml},className:"product-description__content"})),E&&n.createElement("div",{className:"product-sections"},n.createElement(c,{sections:E.sections,productId:E.id})))))))}}}]);
//# sourceMappingURL=component---src-template-product-js-73b591e5c3ce0be76c01.js.map